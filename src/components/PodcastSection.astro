---
import Section from './ui/Section.astro';
import Button from './ui/Button.astro';
---

<Section id="podcast" background="gray">
  <div class="container mx-auto">
    <div class="grid lg:grid-cols-2 gap-12">
      <div class="text-left lg:max-w-xl" data-aos="fade-right">
        <h2 class="text-4xl sm:text-3xl font-bold text-gray-900 mb-4 sm:mb-6">Podcast</h2>
      
        <div class="text-lg sm:text-xl text-gray-700 mb-8">
          <div class="relative">
            <div class="content-preview relative">
              <p class="mb-4 transform transition-all duration-500">
                <strong>"Nimm du! Ich hab' ihn sicher."</strong> hei√üt es im Volleyball doch so sch√∂n. Das ist die Aufforderung eines Mitspielers, das jemand anderes den Ball annehmen soll, obwohl er sagt, dass er selbigen bereits unter Kontrolle hat. Und ist es nicht auch so bei uns in den Softwareprojekten? H√§ufig glauben wir alles richtig verstanden und besprochen zu haben.
              </p>
              <div class="fade-overlay"></div>
            </div>
            
            <div class="content-full opacity-0 max-h-0 overflow-hidden transform transition-all duration-500 ease-in-out">
              <p class="mb-4">
                Kurze Zeit sp√§ter erkennen wir, dass diese Annahme falsch war. Es entsteht Frust. H√§ufig sprechen wir Entwickler ihn nicht richtig aus oder bekommen unser Anliegen nicht korrekt adressiert. Wir sind halt etwas "special". üòâ
              </p>
              <p class="mb-4">
                In diesem Podcast arbeite ich meine Erfahrungen auf und gebe meine Erkenntnisse an dich weiter, damit du effektiver arbeiten kannst. In den Folgen wirst du <strong>technische</strong> Themen finden, vielmehr jedoch <strong>kommunikative</strong> Methoden mit denen du dir den R√ºcken frei h√§ltst, auch wenn es im Projekt mal hei√ü her geht.
              </p>
              <p class="italic mt-6">
                Alles Gute und viel Erfolg w√ºnscht dir<br>
                Gregor
              </p>
            </div>
          </div>
          
          <div class="flex justify-center sm:justify-start">
            <button 
              id="read-more-btn"
              class="mt-4 px-6 py-2 bg-gradient-to-r from-primary to-secondary text-white rounded-full text-sm font-medium transition-all duration-300 hover:shadow-lg hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 flex items-center"
            >
              <span>Mehr lesen</span>
              <svg 
                class="w-4 h-4 ml-2 transition-transform duration-300" 
                id="toggle-icon"
                fill="none" 
                stroke="currentColor" 
                viewBox="0 0 24 24"
              >
                <path 
                  stroke-linecap="round" 
                  stroke-linejoin="round" 
                  stroke-width="2" 
                  d="M19 9l-7 7-7-7"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
      
      <div class="relative" data-aos="fade-left">
        <div class="lg:sticky lg:top-24">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 place-items-center max-w-2xl mx-auto">
          <a 
            href="https://creators.spotify.com/pod/show/entwicklungszeit"
            target="_blank"
            rel="noopener noreferrer"
            class="podcast-tile group flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm hover:shadow-lg transition-all duration-300 w-48 h-24"
          >
            <svg class="w-6 h-6 mb-2 text-[#1DB954] group-hover:scale-110 transition-transform duration-300" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
            </svg>
            <span class="text-sm font-medium text-gray-800 group-hover:text-primary transition-colors">Spotify</span>
          </a>
          
          <a 
            href="https://podcasts.apple.com/us/podcast/entwicklungszeit/id1767631664"
            target="_blank"
            rel="noopener noreferrer"
            class="podcast-tile group flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm hover:shadow-lg transition-all duration-300 w-48 h-24"
          >
            <svg class="w-6 h-6 mb-2 text-[#fc3c44] group-hover:scale-110 transition-transform duration-300" viewBox="0 0 24 24">
              <path d="M9 18V5l12-2v13" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="6" cy="18" r="3" fill="currentColor"/>
              <circle cx="18" cy="16" r="3" fill="currentColor"/>
            </svg>
            <span class="text-sm font-medium text-gray-800 group-hover:text-primary transition-colors">Apple Music</span>
          </a>
          
          <a 
            href="https://plus.rtl.de/podcast/entwicklungszeit-q07k71nkvwgs8"
            target="_blank"
            rel="noopener noreferrer"
            class="podcast-tile group flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm hover:shadow-lg transition-all duration-300 w-48 h-24"
          >
            <svg 
              class="w-32 h-5 mb-2 group-hover:scale-110 transition-transform duration-300"
              role="img"
              viewBox="0 0 529 78" 
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <title>RTL+</title>
              <g clip-path="url(#clip0_278_501)">
                <path d="M137.4 0H0V77.3H137.4V0Z" fill="#0336EE"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M74.6992 37.0998C80.5992 37.0998 83.4992 35.1998 83.4992 31.2998C83.4992 27.3998 80.5992 25.5998 74.6992 25.5998H48.7992V37.0998H74.6992ZM39.1992 17.7998H75.8992C87.0992 17.7998 93.2992 22.7998 93.2992 31.1998C93.2992 38.3998 88.5992 43.1998 80.6992 44.3998L98.6992 59.4998H84.7992L67.8992 44.8998H48.7992V59.4998H39.1992V17.7998Z" fill="white"/>
                <path d="M439.701 0H302.301V77.3H439.701V0Z" fill="#9624BB"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M345.102 17.7998H354.702V51.2998H397.102V59.4998H345.102V17.7998Z" fill="white"/>
                <path d="M288.499 0H151.199V77.3H288.499V0Z" fill="#03AAED"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M215.098 25.9998H190.898V17.7998H248.798V25.9998H224.598V59.4998H215.098V25.9998Z" fill="white"/>
                <path d="M528.902 33.5999V43.0999H506.602V60.7999H495.902V43.0999H473.602V33.5999H495.902V16.3999H506.602V33.5999H528.902Z" fill="black"/>
              </g>
              <defs>
                <clipPath id="clip0_278_501">
                  <rect width="528.9" height="77.3" fill="white"/>
                </clipPath>
              </defs>
            </svg>
          </a>
          
          <a 
            href="https://anchor.fm/s/1003c6b34/podcast/rss"
            target="_blank"
            rel="noopener noreferrer"
            class="podcast-tile group flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm hover:shadow-lg transition-all duration-300 w-48 h-24"
          >
            <svg class="w-6 h-6 mb-2 text-[#FFA500] group-hover:scale-110 transition-transform duration-300" viewBox="0 0 24 24" fill="currentColor">
              <path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/>
            </svg>
            <span class="text-sm font-medium text-gray-800 group-hover:text-primary transition-colors">RSS Feed</span>
          </a>
        </div>
        </div>
      </div>
    </div>
  </div>
</Section>

<script>
  const readMoreBtn = document.getElementById('read-more-btn');
  const contentPreview = document.querySelector('.content-preview');
  const contentFull = document.querySelector('.content-full');
  const toggleIcon = document.getElementById('toggle-icon');
  const btnText = readMoreBtn?.querySelector('span');
  let isExpanded = false;

  readMoreBtn?.addEventListener('click', () => {
    isExpanded = !isExpanded;
    
    if (isExpanded) {
      btnText.textContent = 'Weniger';
      toggleIcon?.classList.add('rotate-180');
      contentPreview?.classList.add('no-fade');
      contentFull?.classList.add('max-h-[1000px]', 'opacity-100', 'mt-4');
      contentFull?.classList.remove('max-h-0', 'opacity-0');
    } else {
      btnText.textContent = 'Mehr lesen';
      toggleIcon?.classList.remove('rotate-180');
      contentPreview?.classList.remove('no-fade');
      contentFull?.classList.remove('max-h-[1000px]', 'opacity-100', 'mt-4');
      contentFull?.classList.add('max-h-0', 'opacity-0');
    }
  });
</script>

<style>
  .content-preview, .content-full {
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .fade-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50px;
    background: linear-gradient(to bottom, transparent, rgb(249 250 251));
    pointer-events: none;
    opacity: 1;
    transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .content-preview.no-fade .fade-overlay {
    opacity: 0;
  }

  .podcast-tile {
    background: linear-gradient(145deg, #ffffff, #f5f5f5);
    border: 1px solid rgba(0, 0, 0, 0.05);
  }
  
  .podcast-tile:hover {
    transform: translateY(-2px);
    border-color: rgba(0, 0, 0, 0.1);
  }
</style>